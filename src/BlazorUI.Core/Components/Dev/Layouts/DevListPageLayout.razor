@typeparam TDataGridItem

@if (!DataGridService.IsLoaded)
{
    <CircleLoading Caption="@ListPageService.LoadingCaption"
                   Text="@ListPageService.LoadingText"></CircleLoading>
}

else
{
    if (!ListPageService.IsPopupListPage)
    {
        <DevPageHeader Caption="@Caption"></DevPageHeader>
    }

    <DevGridLayout ColumnCount="ColumnCount"
                   ColumnSpacing="@ColumnSpacing"
                   ColumnWidths="@ColumnWidths"
                   RowCount="RowCount"
                   RowHeights="@RowHeights"
                   RowSpacing="@RowSpacing">
        <GridLayoutItems>
            @ListPageContent
        </GridLayoutItems>
    </DevGridLayout>

    if (ListPageService.EditPageVisible)
    {
        @EditPageContent
    }
}

@code {

#nullable disable
    [Parameter, EditorRequired] public ICoreDataGridService<TDataGridItem> DataGridService { get; set; }
    [Parameter, EditorRequired] public ICoreListPageService ListPageService { get; set; }
    [Parameter] public string Caption { get; set; }
    [Parameter] public int RowCount { get; set; } = 1;
    [Parameter] public string RowSpacing { get; set; }
    [Parameter] public int ColumnCount { get; set; } = 1;
    [Parameter] public string ColumnSpacing { get; set; }
    [Parameter] public string[] ColumnWidths { get; set; }
    [Parameter] public string[] RowHeights { get; set; }
    [Parameter, EditorRequired] public RenderFragment ListPageContent { get; set; }
    [Parameter] public RenderFragment EditPageContent { get; set; }
}
