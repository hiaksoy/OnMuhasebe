@page "/"
@using BlazorUI.Core.Components.Dev.Layouts
@using BlazorUI.Core.Components.Dev.DataEditors
@using BlazorUI.Core.Helpers
@using BlazorUI.Core.Models
@using Microsoft.Extensions.Localization
@using OnMuhasebe.BankaHesaplar
@using OnMuhasebe.Localization

@inject IStringLocalizer<OnMuhasebeResource> L


<DevGridLayout ColumnCount="5"
               ColumnSpacing="3px"
               RowCount="10"
               RowSpacing="3px"
               ColumnWidths="@(new[]{"100px","5px","300px"})">

    <GridLayoutItems>

        <DevTextEdit Caption="Adı Soyadı"
                     ColumnIndex="2"
                     RowIndex="0"
                     NullText="Değer Girin..."
                     IsFocus="true" />

        <DevTelEdit Caption="Telefon"
                    ColumnIndex="2"
                    RowIndex="1"
                    IsFocus="false" />

        <DevEmailEdit Caption="Email"
                      ColumnIndex="2"
                      RowIndex="2"
                      IsFocus="false" />

        <DevDateEdit Caption="Doğum tarihi"
                     ColumnIndex="2"
                     RowIndex="3"
                     Value="DateTime.Now.Date" />

        <DevIbanNoEdit Caption="Iban NO"
                       ColumnIndex="2"
                       RowIndex="4"
                       IsFocus="false" />

        <DevMemoEdit Caption="Notlar"
                     ColumnIndex="2"
                     RowIndex="5"
                     ColumnSpan="2"
                     RowSpan="2" />

        <DevCheckEdit Caption="Durum"
                      ColumnIndex="2"
                      RowIndex="7"
                      TrueCaption="Aktif"
                      FalseCaption="Pasif" />

        <DevComboBoxEnumEdit TItem="BankaHesapTuru"
                             Caption="Banka Hesap"
                             ColumnIndex="2"
                             RowIndex="8"
                             DataSource="Functions.FillEnumToComboBox<BankaHesapTuru>(L)"
                             Value="SelectedEnum"
                             TextFieldName="@nameof(ComboBoxEnumItem<BankaHesapTuru>.DisplayName)"
                             ValueFieldName="@nameof(ComboBoxEnumItem<BankaHesapTuru>.Value)"
                             SelectedItemChanged="GetEnumValue">

        </DevComboBoxEnumEdit>

        <DevLabel ColumnIndex="3" RowIndex="8" Caption="@SelectedEnum.ToString()"></DevLabel>

    </GridLayoutItems>

</DevGridLayout>


@code {

    static BankaHesapTuru SelectedEnum = BankaHesapTuru.PosBlokeHesabi;

    void GetEnumValue(ComboBoxEnumItem<BankaHesapTuru> hesapTuru)
    {
        SelectedEnum = hesapTuru.Value;
        StateHasChanged();
    }
}